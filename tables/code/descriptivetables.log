
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      StataNow 18.5
___/   /   /___/   /   /___/       SE—Standard Edition

 Statistics and Data Science       Copyright 1985-2023 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-782-8272        https://www.stata.com
                                   979-696-4600        service@stata.com

Stata license: Unlimited-user network, expiring 30 Jun 2025
Serial number: 401809303522
  Licensed to: Victor Ortega
               UNAM

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.

. do "descriptivetables.do" 

. *************************************************
. ***************** Clean Memory ******************
. *************************************************
. 
. clear

. cap clear

. cap log close

. set more off

. 
. *** REPLICATION FILE: table1
. *** STATA VERSION: 18/SE
. *** AUTHOR: Victor Alfonso Ortega Le Hénanff
. *** EMAIL: vincictor33@gmail.com
. *** DATE: 2025-02-16
. 
. *************************************************
. **************** Define Globals *****************
. *************************************************
. 
. global project="/Users/victorortega/Dropbox/mw_ethnic/enighdata/output"

. global output="/Users/victorortega/Dropbox/mw_ethnic/tables/output"

. 
. *************************************************
. ******************* Table 1 *********************
. *************************************************
. 
. use "../input/enighdata.dta", clear

. *use "$project/enighdata.dta", clear
. 
. *Generate Treatment
. 
. gen zona_a = 0

. replace zona_a = 1 if ubica_geo == 02001 | ubica_geo == 02002 | ubica_geo == 
> 02003 | ubica_geo == 02004 | ubica_geo == 02005 | ubica_geo == 26055  | ubica
> _geo == 26048 | ubica_geo == 26070 | ubica_geo == 26017 | ubica_geo == 26004 
> | ubica_geo == 26060  | ubica_geo == 26043 | ubica_geo == 26059 | ubica_geo =
> = 26039 | ubica_geo == 26002 | ubica_geo == 08035  | ubica_geo == 08005 | ubi
> ca_geo == 08037 | ubica_geo == 08053 | ubica_geo == 08028 | ubica_geo == 0801
> 5  | ubica_geo == 08052 | ubica_geo == 08042 | ubica_geo == 05023 | ubica_geo
>  == 05002 | ubica_geo == 05038  | ubica_geo == 05014 | ubica_geo == 05022 | u
> bica_geo == 05025 | ubica_geo == 05012 | ubica_geo == 05013  | ubica_geo == 1
> 9005 | ubica_geo == 28027 | ubica_geo == 28014 | ubica_geo == 28024 | ubica_g
> eo == 28025  | ubica_geo == 28015 | ubica_geo == 28007 | ubica_geo == 28022 |
>  ubica_geo == 28032 | ubica_geo == 28033  | ubica_geo == 28040
(397,090 real changes made)

. 
. *collapse by id for monthly averages
. 
. 
. 
. *generate log of income sources
. 
. gen lni = ln(ingreso) if ingreso > 0
(1,111,002 missing values generated)

. gen lnw = ln(ing_wages) if ing_wages > 0
(2,884,954 missing values generated)

. gen lnnwi = ln(ing_non_wage_income) if ing_non_wage_income > 0
(4,403,956 missing values generated)

. gen lnfc = ln(ing_fin_capital) if ing_fin_capital > 0
(4,937,692 missing values generated)

. gen lngt = ln(ing_gov_transfers) if ing_gov_transfers > 0
(3,901,910 missing values generated)

. gen lnn = ln(ing_negocio) if ing_negocio > 0
(4,366,470 missing values generated)

. gen lno = ln(ing_other) if ing_other > 0
(4,499,459 missing values generated)

. gen lnr = ln(ing_rentas) if ing_rentas > 0
(4,922,677 missing values generated)

. gen lnv = ln(ing_ventas) if ing_ventas > 0
(4,961,459 missing values generated)

. 
. *************************************************
. ******************* Table 1 *********************
. *************************************************
. 
. eststo allunits: quietly estpost summarize ///
>     gender edad indspeaker indund indigenous school_attendance years_of_study
>  hoursworked employed ///
>     lni lnw lnnwi lnfc lngt lnn lno lnr lnv

. eststo treat: quietly estpost summarize ///
>     gender edad indspeaker indund indigenous school_attendance years_of_study
>  hoursworked employed ///
>     lni lnw lnnwi lnfc lngt lnn lno lnr lnv if zona_a == 1

. eststo control: quietly estpost summarize ///
>     gender edad indspeaker indund indigenous school_attendance years_of_study
>  hoursworked employed ///
>     lni lnw lnnwi lnfc lngt lnn lno lnr lnv if zona_a == 0

. eststo diff: quietly estpost ttest ///
>     gender edad indspeaker indund indigenous school_attendance years_of_study
>  hoursworked employed ///
>     lni lnw lnnwi lnfc lngt lnn lno lnr lnv, by(zona_a) unequal

. 
. esttab allunits treat control diff, ///
> cells("mean(pattern(1 1 1 0) fmt(2)) b(star pattern(0 0 0 1) fmt(2)) t(patter
> n(0 0 0 1) par fmt(2))") ///
> label

-------------------------------------------------------------------------------
> ---------
                              (1)          (2)          (3)          (4)       
>          
                                                                               
>          
                             mean         mean         mean            b       
>         t
-------------------------------------------------------------------------------
> ---------
gender                       0.52         0.55         0.52        -0.02***    
>  (-30.12)
age                         37.50        36.90        37.55         0.65***    
>   (20.29)
speaks indigenous ~e         0.07         0.02         0.08         0.06***    
>  (216.08)
understands indige~e         0.03         0.01         0.03         0.02***    
>  (121.38)
indigenous self-id~n         0.32         0.16         0.33         0.18***    
>  (283.15)
school attendance            0.20         0.18         0.20         0.02***    
>   (33.69)
years of study               8.51         8.82         8.48        -0.34***    
>  (-44.73)
hours worked per w~k        41.33        42.55        41.23        -1.32***    
>  (-32.20)
employed previous ~h         0.70         0.71         0.70        -0.01***    
>  (-10.29)
lni                          8.29         8.69         8.25        -0.44***    
> (-211.69)
lnw                          8.57         8.88         8.54        -0.34***    
> (-189.14)
lnnwi                        7.66         7.61         7.66         0.06***    
>   (10.32)
lnfc                         7.75         7.93         7.74        -0.19***    
>   (-5.04)
lngt                         7.48         7.74         7.46        -0.27***    
>  (-59.08)
lnn                          7.34         8.15         7.30        -0.85***    
>  (-93.25)
lno                          7.82         8.07         7.81        -0.26***    
>  (-32.89)
lnr                          7.83         7.99         7.81        -0.18***    
>  (-11.08)
lnv                          7.26         7.35         7.26        -0.09*      
>   (-2.32)
-------------------------------------------------------------------------------
> ---------
Observations              4986621       397090      4589531      4986621       
>          
-------------------------------------------------------------------------------
> ---------

. 
. estout allunits treat control diff using "../output/table1.tex", style(tex) /
> //
> cells("mean(fmt(2)) b(fmt(2)) t(par fmt(2))") ///
> label replace ///
> varlabels(gender "Female" ///
>           edad "Age" ///
>           indspeaker "Indigenous Speaker" ///
>           indund "Undocumented" ///
>           indigenous "Self-Identified Indigenous" ///
>           school_attendance "In School" ///
>           years_of_study "Years of Schooling" ///
>           hoursworked "Hours Worked" ///
>           employed "Employed" ///
>           lni "Log Income" ///
>           lnw "Log Wages" ///
>           lnnwi "Log Non-Wage Income" ///
>           lnfc "Log Financial Capital Income" ///
>           lngt "Log Government Transfers" ///
>           lnn "Log Business Income" ///
>           lno "Log Other Income" ///
>           lnr "Log Rent Income" ///
>           lnv "Log Sales Income") ///
> collabels("All Units" "Treated" "Control" "Difference")
(file ../output/table1.tex not found)
file ../output/table1.tex could not be opened
r(603);

end of do-file
r(603);
