
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      StataNow 18.5
___/   /   /___/   /   /___/       SE—Standard Edition

 Statistics and Data Science       Copyright 1985-2023 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-782-8272        https://www.stata.com
                                   979-696-4600        service@stata.com

Stata license: Unlimited-user network, expiring 30 Jun 2025
Serial number: 401809303522
  Licensed to: Victor Ortega
               UNAM

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.

. do "indigdid.do" 

. *************************************************
. ***************** Clean Memory ******************
. *************************************************
. 
. clear

. cap clear

. cap log close

. set more off

. 
. *** REPLICATION FILE: indigdid
. *** STATA VERSION: 18.5/SE
. *** AUTHOR: Victor Alfonso Ortega Le Hénanff
. *** EMAIL: vincictor33@gmail.com
. *** DATE: 2025-05-05
. 
. *************************************************
. **************** Load + Globals *****************
. *************************************************
. 
. global project="/Users/victorortega/Dropbox/mw_ethnic/enighdata/output"

. global output="/Users/victorortega/Dropbox/mw_ethnic/tables/output"

. 
. use "../input/enighdata.dta", clear

. *use "$project/enighdata.dta", clear
. 
. *************************************************
. ******************* Table 1 *********************
. *************************************************
. 
. *generate post treatment variable
. gen post = year > 2018

. 
. *control for observables
. gl controls i.gender edad edadsq years_of_study hoursworked i.employed

. 
. *all units
. reghdfe lnw i.zona_a##i.post, absorb(ubica_geo time) vce(cluster ubica_geo)
(MWFE estimator converged in 6 iterations)
note: 1bn.zona_a is probably collinear with the fixed effects (all partialled-o
> ut values are close to zero; tol = 1.0e-09)
note: 1bn.post is probably collinear with the fixed effects (all partialled-out
>  values are close to zero; tol = 1.0e-09)

HDFE Linear regression                            Number of obs   =  2,075,028
Absorbing 2 HDFE groups                           F(   1,   1623) =     113.49
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.1291
                                                  Adj R-squared   =     0.1284
                                                  Within R-sq.    =     0.0004
Number of clusters (ubica_geo) =      1,624       Root MSE        =     0.7172

                          (Std. err. adjusted for 1,624 clusters in ubica_geo)
------------------------------------------------------------------------------
             |               Robust
         lnw | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
    1.zona_a |          0  (omitted)
      1.post |          0  (omitted)
             |
 zona_a#post |
        1 1  |   .1010923   .0094892    10.65   0.000     .0824799    .1197047
             |
       _cons |    8.56252   .0005098  1.7e+04   0.000      8.56152     8.56352
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   ubica_geo |      1624        1624           0    *|
        time |        36           1          35     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

.          eststo t1m1

.          estadd local controls       "N"

added macro:
           e(controls) : "N"

.          estadd local hastimefe          "Y"

added macro:
          e(hastimefe) : "Y"

.          estadd local hasmunicfe         "Y"

added macro:
         e(hasmunicfe) : "Y"

. reghdfe lnw i.zona_a##i.post $controls , absorb(ubica_geo time) vce(cluster u
> bica_geo)
(MWFE estimator converged in 6 iterations)
note: 1bn.zona_a is probably collinear with the fixed effects (all partialled-o
> ut values are close to zero; tol = 1.0e-09)
note: 1bn.post is probably collinear with the fixed effects (all partialled-out
>  values are close to zero; tol = 1.0e-09)

HDFE Linear regression                            Number of obs   =  1,617,380
Absorbing 2 HDFE groups                           F(   7,   1621) =    2576.48
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.4181
                                                  Adj R-squared   =     0.4175
                                                  Within R-sq.    =     0.3276
Number of clusters (ubica_geo) =      1,622       Root MSE        =     0.5796

                          (Std. err. adjusted for 1,622 clusters in ubica_geo)
------------------------------------------------------------------------------
             |               Robust
         lnw | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
    1.zona_a |          0  (omitted)
      1.post |          0  (omitted)
             |
 zona_a#post |
        1 1  |   .1204523   .0117339    10.27   0.000      .097437    .1434676
             |
      gender |
       Male  |   .2848256   .0040049    71.12   0.000     .2769702     .292681
        edad |   .0555142   .0006953    79.85   0.000     .0541505    .0568779
      edadsq |  -.0005719   8.11e-06   -70.51   0.000    -.0005879    -.000556
years_of_s~y |    .070772   .0008912    79.41   0.000     .0690239      .07252
 hoursworked |   .0108526    .000207    52.42   0.000     .0104466    .0112587
             |
    employed |
        Yes  |  -.1140239   .0203044    -5.62   0.000    -.1538495   -.0741984
       _cons |   6.100283   .0273097   223.37   0.000     6.046717    6.153849
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   ubica_geo |      1622        1622           0    *|
        time |        36           1          35     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

.          eststo t1m2

.          estadd local controls       "Y"

added macro:
           e(controls) : "Y"

.          estadd local hastimefe          "Y"

added macro:
          e(hastimefe) : "Y"

.          estadd local hasmunicfe         "Y"

added macro:
         e(hasmunicfe) : "Y"

.          
. *non indigenous autoperception
. reghdfe lnw i.zona_a##i.post if indigenous==0, absorb(ubica_geo time) vce(clu
> ster ubica_geo)
(dropped 4 singleton observations)
(MWFE estimator converged in 6 iterations)
note: 1bn.zona_a is probably collinear with the fixed effects (all partialled-o
> ut values are close to zero; tol = 1.0e-09)
note: 1bn.post is probably collinear with the fixed effects (all partialled-out
>  values are close to zero; tol = 1.0e-09)

HDFE Linear regression                            Number of obs   =  1,491,150
Absorbing 2 HDFE groups                           F(   1,   1514) =     116.84
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.1125
                                                  Adj R-squared   =     0.1115
                                                  Within R-sq.    =     0.0005
Number of clusters (ubica_geo) =      1,515       Root MSE        =     0.7076

                          (Std. err. adjusted for 1,515 clusters in ubica_geo)
------------------------------------------------------------------------------
             |               Robust
         lnw | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
    1.zona_a |          0  (omitted)
      1.post |          0  (omitted)
             |
 zona_a#post |
        1 1  |   .0978643   .0090539    10.81   0.000     .0801048    .1156238
             |
       _cons |   8.629925   .0005682  1.5e+04   0.000     8.628811     8.63104
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   ubica_geo |      1515        1515           0    *|
        time |        36           1          35     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

.          eststo t1m3

.          estadd local controls       "N"

added macro:
           e(controls) : "N"

.          estadd local hastimefe          "Y"

added macro:
          e(hastimefe) : "Y"

.          estadd local hasmunicfe         "Y"

added macro:
         e(hasmunicfe) : "Y"

. reghdfe lnw i.zona_a##i.post $controls if indigenous==0, absorb(ubica_geo tim
> e) vce(cluster ubica_geo)
(dropped 5 singleton observations)
(MWFE estimator converged in 6 iterations)
note: 1bn.zona_a is probably collinear with the fixed effects (all partialled-o
> ut values are close to zero; tol = 1.0e-09)
note: 1bn.post is probably collinear with the fixed effects (all partialled-out
>  values are close to zero; tol = 1.0e-09)

HDFE Linear regression                            Number of obs   =  1,155,584
Absorbing 2 HDFE groups                           F(   7,   1495) =    2427.83
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.4122
                                                  Adj R-squared   =     0.4114
                                                  Within R-sq.    =     0.3341
Number of clusters (ubica_geo) =      1,496       Root MSE        =     0.5698

                          (Std. err. adjusted for 1,496 clusters in ubica_geo)
------------------------------------------------------------------------------
             |               Robust
         lnw | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
    1.zona_a |          0  (omitted)
      1.post |          0  (omitted)
             |
 zona_a#post |
        1 1  |   .1214876    .012657     9.60   0.000     .0966601     .146315
             |
      gender |
       Male  |   .2760205   .0042992    64.20   0.000     .2675874    .2844535
        edad |   .0555399   .0007806    71.15   0.000     .0540086    .0570712
      edadsq |  -.0005695   9.10e-06   -62.60   0.000    -.0005874   -.0005517
years_of_s~y |   .0728626   .0008881    82.04   0.000     .0711204    .0746047
 hoursworked |   .0108113    .000237    45.62   0.000     .0103465    .0112762
             |
    employed |
        Yes  |  -.1071453   .0221578    -4.84   0.000     -.150609   -.0636816
       _cons |   6.115273   .0300691   203.37   0.000     6.056291    6.174255
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   ubica_geo |      1496        1496           0    *|
        time |        36           1          35     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

.          eststo t1m4

.          estadd local controls       "Y"

added macro:
           e(controls) : "Y"

.          estadd local hastimefe          "Y"

added macro:
          e(hastimefe) : "Y"

.          estadd local hasmunicfe         "Y"

added macro:
         e(hasmunicfe) : "Y"

.          
. *indigenous autoperception
. reghdfe lnw i.zona_a##i.post if indigenous==1, absorb(ubica_geo time) vce(clu
> ster ubica_geo)
(dropped 3 singleton observations)
(MWFE estimator converged in 6 iterations)
note: 1bn.zona_a is probably collinear with the fixed effects (all partialled-o
> ut values are close to zero; tol = 1.0e-09)
note: 1bn.post is probably collinear with the fixed effects (all partialled-out
>  values are close to zero; tol = 1.0e-09)

HDFE Linear regression                            Number of obs   =    583,871
Absorbing 2 HDFE groups                           F(   1,   1581) =      46.27
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.1377
                                                  Adj R-squared   =     0.1353
                                                  Within R-sq.    =     0.0005
Number of clusters (ubica_geo) =      1,582       Root MSE        =     0.7298

                          (Std. err. adjusted for 1,582 clusters in ubica_geo)
------------------------------------------------------------------------------
             |               Robust
         lnw | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
    1.zona_a |          0  (omitted)
      1.post |          0  (omitted)
             |
 zona_a#post |
        1 1  |   .1525294   .0224239     6.80   0.000     .1085457     .196513
             |
       _cons |   8.389319   .0006871  1.2e+04   0.000     8.387971    8.390667
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   ubica_geo |      1582        1582           0    *|
        time |        36           1          35     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

.          eststo t1m5

.          estadd local controls       "N"

added macro:
           e(controls) : "N"

.          estadd local hastimefe          "Y"

added macro:
          e(hastimefe) : "Y"

.          estadd local hasmunicfe         "Y"

added macro:
         e(hasmunicfe) : "Y"

. reghdfe lnw i.zona_a##i.post $controls if indigenous==1, absorb(ubica_geo tim
> e) vce(cluster ubica_geo)
(dropped 1 singleton observations)
(MWFE estimator converged in 6 iterations)
note: 1bn.zona_a is probably collinear with the fixed effects (all partialled-o
> ut values are close to zero; tol = 1.0e-09)
note: 1bn.post is probably collinear with the fixed effects (all partialled-out
>  values are close to zero; tol = 1.0e-09)

HDFE Linear regression                            Number of obs   =    461,790
Absorbing 2 HDFE groups                           F(   7,   1564) =    1076.64
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.4077
                                                  Adj R-squared   =     0.4057
                                                  Within R-sq.    =     0.3060
Number of clusters (ubica_geo) =      1,565       Root MSE        =     0.5959

                          (Std. err. adjusted for 1,565 clusters in ubica_geo)
------------------------------------------------------------------------------
             |               Robust
         lnw | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
    1.zona_a |          0  (omitted)
      1.post |          0  (omitted)
             |
 zona_a#post |
        1 1  |   .1360585   .0215142     6.32   0.000     .0938588    .1782581
             |
      gender |
       Male  |   .3069452   .0065224    47.06   0.000     .2941515    .3197388
        edad |   .0552413   .0011595    47.64   0.000     .0529669    .0575156
      edadsq |  -.0005778   .0000137   -42.05   0.000    -.0006047   -.0005508
years_of_s~y |   .0638251   .0013195    48.37   0.000      .061237    .0664132
 hoursworked |   .0109342   .0002356    46.40   0.000      .010472    .0113965
             |
    employed |
        Yes  |  -.1212868    .035707    -3.40   0.001    -.1913254   -.0512482
       _cons |   6.069947    .046688   130.01   0.000      5.97837    6.161525
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
   ubica_geo |      1565        1565           0    *|
        time |        36           1          35     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

.          eststo t1m6

.          estadd local controls       "Y"

added macro:
           e(controls) : "Y"

.          estadd local hastimefe          "Y"

added macro:
          e(hastimefe) : "Y"

.          estadd local hasmunicfe         "Y"

added macro:
         e(hasmunicfe) : "Y"

.          
. *************************************************
. ****************** Table Tex*********************
. *************************************************
. 
. esttab  t1m1 t1m2 t1m3 t1m4 t1m5 t1m6  ///
>                         using "../output/table3.tex",  replace label fragment
>  ///
>                         nolines  posthead(\cmidrule{2-7}) prefoot(\midrule) p
> ostfoot(\bottomrule \bottomrule) booktabs ///
>                         nonumbers mtitle("(1)" "(2)" "(3)" "(4)" "(5)" "(6)")
>  collabels(none)    ///
>                         cells(b(star fmt(%9.3f)) se(par fmt(%9.3f)) ) starlev
> els(* 0.10 ** 0.05 *** 0.01) ///                                           
>                         refcat(1.zona_a#1.post "ZLFN $\times$", nolabel) ///
>                         keep(1.zona_a#1.post)   ///
>                         coeflabel(1.zona_a#1.post "{2016-2022}") ///
>                         stats(N controls hastimefe hasmunicfe, ///
>                         fmt(%11.0gc) label("Observations" "Controls" "Time FE
> " "Municipal FE")) onecell
(output written to ../output/table3.tex)

. 
end of do-file
